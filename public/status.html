<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta charset="UTF-8">
    <title>Trvlr</title>
    <script type="text/javascript" src="js/knockout-3.4.1.js"></script>
    <script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="./js/sammy.js"></script>


    <script type="text/javascript" src="./js/status_app.js"></script>
    <script type="text/javascript" src="./js/underscore-min.js"></script>
    <link rel="stylesheet" type="text/css" href="./stylesheets/bootstrap-3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./stylesheets/style.css">
    <script type="text/javascript" src="./stylesheets/bootstrap-3.3.7/js/bootstrap.min.js"></script>


</head>
<body id="root">
<div id="overlay">
    <img src="/images/loader.gif" alt="Loading" /><br/>
    Loading...
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-4 col-xs-4"></div>
        <div class="col-sm-4 col-xs-4 text-center"><img class="logo" src="images/logo.png"></div>
        <div class="col-sm-4 col-xs-4 text-right liveStatus whiteSmokeText"> Live Status</div>
    </div>

    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar "></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Enquiry Corner</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <!-- ko foreach:views  -->
                    <li data-bind="css: {active: $root.currentView() == $data}">
                        <a data-bind="text:$data, attr:{href:'#' + $data}"></a>
                    </li>
                    <!-- /ko -->
                </ul>

            </div>
        </div>
</nav>


</div>

<div class="container-fluid mainContainer">
    <div class="row">
        <div class="span12">
            <div data-bind="template: {name: currentView()}"></div>
        </div>
    </div>
</div>

<script type="text/html" id="Running Status">
    <div class="row">
        <div class="row">
            <div class="col-sm-4 col-xs-1"></div>
            <div class="col-sm-4 col-xs-11">
                <div class="input-group">
                    <input type="text" class="text-center form-control"
                           placeholder="Enter train name/number" maxlength="30"
                           data-bind="value:runningStatusModel.runningTrainNo, valueUpdate:'keyup'"/>
                    <button class="btn btn-primary search-btn"
                            data-bind="click:runningStatusModel.getRunningStatus, enable:runningStatusModel.enableGetRunningStatus">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div><!-- /input-group -->
            </div><!-- /.col-lg-4 -->
            <div class="col-sm-4 col-xs-0"></div>
        </div><!-- /.row -->

        <div class="col-sm-8">
            <div class="outerDiv">
                <div style="text-align: center;">

                    <h2 data-bind="text:runningStatusModel.trainName()"></h2>

                    <div data-bind="if:runningStatusModel.currentStationStatus()" style="margin-bottom: 2%">
                        <span data-bind="text:runningStatusModel.currentStationStatus()"></span>
                    </div>

                    <div data-bind="if:runningStatusModel.rakes().length>1">
                        <div class="btn-group btn-group-sm" data-bind="  foreach: runningStatusModel.rakes"
                             style="margin-bottom:2%" role="group" aria-label="...">
                            <button type="button"
                                    data-bind="text: $data.startDate, click:$parent.runningStatusModel.setRakeBasedData.bind(null, $data, $parent.runningStatusModel)"
                                    class="btn btn-default"></button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3 col-xs-4">
                            <div class="diamond" >
                                 <div class="circle"><div class="rectangle">
                                 <div data-bind="if:runningStatusModel.preStation"><span class="stationName" data-bind="text:runningStatusModel.preStation().stnCode"></span></div></div></div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xs-4">
                            <div class="">
                                <img src="images/train.png" alt="" height="30"
                                 data-bind="style: { 'padding-left': runningStatusModel.currentPosition() }"/>
                            </div>

                            <div class="track"></div>
                            <span style="font-weight: bold;" data-bind="text:runningStatusModel.currentLocation()"></span>
                        </div>
                       <div class="col-sm-3 col-xs-4">
                            <div class="diamond">
                                 <div class="circle"><div class="rectangle"><div data-bind="if:runningStatusModel.nextStation"><span class="stationName" data-bind="text:runningStatusModel.nextStation().stnCode"></span></div></div></div>
                            </div>
                        </div>
                    </div>


                    <div class="row" style="margin-top:20px">
                         <div data-bind="if:runningStatusModel.preStation()" class="col-sm-4 bottom-div">
                            <span>Dept </span><span data-bind="text:runningStatusModel.preStation().stnCode"></span><br><br>
                            <span style="font-weight: bold" data-bind="text:runningStatusModel.preStation().actDep"></span>
                        </div>
                        <div data-bind="if:runningStatusModel.nextStation()" class="col-sm-4 bottom-div">
                            <span>ETA at </span><span data-bind="text:runningStatusModel.nextStation().stnCode"></span><br><br>
                            <span style="font-weight: bold" data-bind="text:runningStatusModel.nextStation().schArrTime"></span>
                        </div>
                        <div data-bind="css:runningStatusModel.runningTextCss, if:runningStatusModel.nextStation()" class="col-sm-4 bottom-div">
                            <span data-bind="html:runningStatusModel.arrivalText()"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div data-bind="template: {name: 'rightContainer'}" class="col-sm-4 rightContainer">
        </div>
    </div>
</script>
<script type="text/html" id="PNR Status">
    <div class="row">
        <div class="col-sm-8">
            <div class="outerDiv">
                <div style="text-align: center;">
                    <div class="runningStatus-top">
                        <span>Get PNR Staus</span>
                    </div>
                    <div class="input form-group">
                        <input style=" text-align: center; " type="text" class="form-control"
                               placeholder="Enter PNR number">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary">Submit</button>
                    </div>
                    <div class="runningStatus-bottom">
                        <span style="visibility: hidden;">Get PNR Staus</span>
                    </div>
                </div>
            </div>
        </div>
        <div data-bind="template: {name: 'rightContainer'}" class="col-sm-4 rightContainer">
        </div>
    </div>
</script>
<script type="text/html" id="Diverted Trains">
    <div class="row">
        <div class="col-lg-4 col-xs-3"></div>
        <div class="col-lg-4 col-xs-5">
            <button class="btn btn-primary search-btn"
                    data-bind="click:getDivertedTrains">
                <span>Get Diverted Trains</span>
            </button>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4 col-xs-4"></div>
    </div>
    <div class="row">
        <div class="col-sm-8">
            <div class="cancelledOuterDiv">
                <div style="text-align: center;">
                    <div class="runningStatus-top">
                        <span>Diverted Trains</span>
                    </div>
                    <div style="padding: 0% 3%">
                        <div class="row">
                            <div class="col-sm-6 col-xs-6" style="text-align: left;padding-left:4%;">
                                <h5>Train Name - Train No</h5></div>
                            <div class="col-sm-3 text-left col-xs-3" style="padding-left: 2%;">
                                <h5>From - To</h5></div>
                            <div class="col-sm-3 col-xs-3 text-left" style="padding-left: 2%;">
                                <h5>Diverted<br> From - To</h5></div>

                        </div>
                    </div>
                    <div class="cancelledList">
                        <div data-bind="foreach:divertedTrains">
                            <div class="row" style="padding-bottom:1%;">
                                <div class="col-sm-6 col-xs-6">
                                    <span data-bind="text:$data.trainName + ' (' + $data.trainNo + ')'"></span></div>
                                <div class="col-sm-3 col-xs-3">
                                    <span data-bind="text:$data.trainSrc +' - '+ $data.trainDstn"></span></div>
                                <div class="col-sm-3 col-xs-3">
                                    <span data-bind="text:$data.divertedFrom +' - '+ $data.divertedTo"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="cancelledStatus-bottom">
                        <span style="visibility: hidden;">cancelled</span>
                    </div>
                </div>
            </div>
        </div>
        <div data-bind="template: {name: 'rightContainer'}" class="col-sm-4 rightContainer">
        </div>
    </div></script>
<script type="text/html" id="Rescheduled Trains">
    <div class="row">
        <div class="col-lg-4 col-xs-3"></div>
        <div class="col-lg-4 col-xs-5">
            <button class="btn btn-primary search-btn"
                    data-bind="click:getRescheduledTrains">
                <span>Get Rescheduled Trains</span>
            </button>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4 col-xs-4"></div>
    </div>
    <div class="row">
        <div class="col-sm-8">
            <div class="cancelledOuterDiv">
                <div style="text-align: center;">
                    <div class="runningStatus-top">
                        <span>Rescheduled Trains</span>
                    </div>
                    <div style="padding: 0% 3%">
                        <div class="row">
                            <div class="col-sm-4 col-xs-4" style="text-align: left;padding-left:4%;">
                                <h5>Train Name - No</h5></div>
                            <div class="col-sm-4 col-xs-4 text-left" style="padding-left: 2%;">
                                <h5>Scheduled At</h5></div>
                            <div class="col-sm-4 col-xs-4 text-left" style="padding-left: 2%;">
                                <h5>Rescheduled</h5></div>

                        </div>
                    </div>
                    <div class="cancelledList">
                        <div data-bind="foreach:rescheduledTrains">
                            <div class="row" style="padding-bottom:1%;">
                                <div class="col-sm-4 col-xs-4">
                                    <span data-bind="text:$data.trainName + ' (' + $data.trainNo + ')'"></span></div>
                                <div class="col-sm-4 col-xs-4" style="padding-left: 1%;">
                                    <span data-bind="text:$data.startDate +' - '+ $data.schDep"></span></div>
                                <div class="col-sm-4 col-xs-4" style="padding-left: 1%;">
                                    <span data-bind="text:$data.newStartDate +' - '+ $data.actDep"></span></div>

                            </div>
                        </div>
                    </div>

                    <div class="cancelledStatus-bottom">
                        <span style="visibility: hidden;">cancelled</span>
                    </div>
                </div>
            </div>
        </div>
        <div data-bind="template: {name: 'rightContainer'}" class="col-sm-4 rightContainer">
        </div>
    </div>
</script>

<script type="text/html" id="Cancelled Trains">
    <div class="row">
        <div class="col-lg-4 col-xs-3"></div>
        <div class="col-lg-4 col-xs-5">
                <button class="btn btn-primary search-btn"
                        data-bind="click:getCancelledTrains">
                    <span>Get Cancelled Trains</span>
                </button>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4 col-xs-4"></div>
    </div>
    <div class="row">
        <div class="col-sm-8">
            <div class="cancelledOuterDiv">
                <div style="text-align: center;">
                    <div class="runningStatus-top">
                        <span>Cancelled Status</span>
                    </div>
                    <div style="padding: 0% 3%">
                        <div class="row">
                            <div class="col-sm-5 col-xs-5" style="text-align: left;padding-left:4%;">
                                <h5>Train Name - No</h5></div>
                            <div class="col-sm-3 col-xs-3 text-left">
                                <h5>Date</h5></div>
                            <div class="col-sm-4 col-xs-4 text-left" style="padding-left: 1%;">
                                <h5>From - To</h5></div>

                        </div>
                    </div>
                    <div class="cancelledList">
                        <div data-bind="foreach:cancelledTrains">
                            <div class="row" style="padding-bottom:1.5%;">
                                <div class="col-sm-5 col-xs-5">
                                    <span data-bind="text:$data.trainName + ' (' + $data.trainNo + ')'"></span></div>
                                <div class="col-sm-3 col-xs-3">
                                    <span data-bind="text:$data.startDate"></span></div>
                                <div class="col-sm-4 col-xs-4">
                                    <span data-bind="text:$data.trainSrc +' - '+ $data.trainDstn"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="cancelledStatus-bottom">
                        <span style="visibility: hidden;">cancelled</span>
                    </div>
                </div>
            </div>
        </div>
        <div data-bind="template: {name: 'rightContainer'}" class="col-sm-4 rightContainer">
        </div>
    </div>
</script>
<script type="text/html" id="rightContainer">
    <h2 class="updatesTitle">For min-by-min updates<br>Download</h2>
    <div><img src="images/googlePay.png" alt=""></div>
    <div><img src="images/appStore.png" alt=""></div>
</script>
</body>
</html>
